import{C as t,X as e,_ as n,r,a,b as s,c as o,d as i,i as c,s as l,e as u,S as f,h,t as v,g as d,Y as m,m as g,n as p,o as y,k as w,l as b,p as E,w as A,x as I,D as S,u as D,P as N,q as R,y as k,Z as x}from"./client.0dcc74db.js";import{t as C}from"./tsv.c906c42a.js";import{f as $,a as H,b as T,s as V}from"./helpers.3b26ddc2.js";import{E as j}from"./constants.4cde9e8e.js";function O(t){for(var e in t){var n,r,a=t[e].trim();if(a)if("true"===a)a=!0;else if("false"===a)a=!1;else if("NaN"===a)a=NaN;else if(isNaN(n=+a)){if(!(r=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;J&&r[4]&&!r[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a)}else a=n;else a=null;t[e]=a}return t}var J=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function L(t){return t}function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw s}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F(e,n,r,a){return function e(s,o){if(o>=a.length)return r(s);var i,c=new Map,l=a[o++],u=-1,f=P(s);try{for(f.s();!(i=f.n()).done;){var h=i.value,v=l(h,++u,s),d=c.get(v);d?d.push(h):c.set(v,[h])}}catch(t){f.e(t)}finally{f.f()}var m,g=P(c);try{for(g.s();!(m=g.n()).done;){var p=t(m.value,2),y=p[0],w=p[1];c.set(y,e(w,o))}}catch(t){g.e(t)}finally{g.f()}return n(c)}(e,0)}var M=e(null,(function(t){t(new Date);var e=setInterval((function(){t(new Date)}),1e3);return function(){return clearInterval(e)}}));function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}var G=x.document;function Z(t,e,n){var r=t.slice();return r[17]=e[n],r}function _(t,e,n){var r=t.slice();return r[17]=e[n],r}function q(t,e,n){var r=t.slice();return r[14]=e[n],r[16]=n,r}function U(t,e,n){var r=t.slice();return r[11]=e[n][0],r[1]=e[n][1],r}function X(t){var e,n;return{c:function(){e=h("a"),n=v("ONLINE"),this.h()},l:function(t){e=g(t,"A",{href:!0,class:!0});var r=p(e);n=y(r,"ONLINE"),r.forEach(w),this.h()},h:function(){E(e,"href","/live"),E(e,"class","rounded-link bd-col-1 col-1 svelte-4rct3y")},m:function(t,r){A(t,e,r),I(e,n)},d:function(t){t&&w(e)}}}function z(t){var e,n;return{c:function(){e=h("a"),n=v("ONLINE"),this.h()},l:function(t){e=g(t,"A",{href:!0,class:!0});var r=p(e);n=y(r,"ONLINE"),r.forEach(w),this.h()},h:function(){E(e,"href","/getting-there"),E(e,"class","rounded-link bd-col-1 col-1 svelte-4rct3y")},m:function(t,r){A(t,e,r),I(e,n)},d:function(t){t&&w(e)}}}function K(t){var e,n,r,a,s=t[17].name+"";return{c:function(){e=h("a"),n=v(s),r=d(),this.h()},l:function(t){e=g(t,"A",{href:!0,class:!0});var a=p(e);n=y(a,s),r=b(a),a.forEach(w),this.h()},h:function(){E(e,"href",a="artists/"+t[17].slug),E(e,"class","artist-name col-5 svelte-4rct3y")},m:function(t,a){A(t,e,a),I(e,n),I(e,r)},p:function(t,r){1&r&&s!==(s=t[17].name+"")&&S(n,s),1&r&&a!==(a="artists/"+t[17].slug)&&E(e,"href",a)},d:function(t){t&&w(e)}}}function Q(t){var e,n,r,a;return{c:function(){e=h("a"),n=h("span"),r=d(),this.h()},l:function(t){e=g(t,"A",{href:!0});var a=p(e);n=g(a,"SPAN",{class:!0,style:!0}),p(n).forEach(w),r=b(a),a.forEach(w),this.h()},h:function(){E(n,"class","bio-photo svelte-4rct3y"),D(n,"background-image","url(img/bios/"+t[17].username+".jpeg)"),E(e,"href",a="artists/"+t[17].slug)},m:function(t,a){A(t,e,a),I(e,n),I(e,r)},p:function(t,r){1&r&&D(n,"background-image","url(img/bios/"+t[17].username+".jpeg)"),1&r&&a!==(a="artists/"+t[17].slug)&&E(e,"href",a)},d:function(t){t&&w(e)}}}function W(t){for(var e,n,r,a,s,o,i,c,l,u,f,m,D,R,k,x,C,H,V,j,O,J,L,P,B=T(t[14].startsAt)+"",F=$(t[14].startsAt)+"",M=t[14].title+"",Y=t[14].desc+"",G=t[14].livestream&&X(),q=t[14].physical&&z(),U=t[14].artists,W=[],tt=0;tt<U.length;tt+=1)W[tt]=K(_(t,U,tt));for(var et=t[14].artists,nt=[],rt=0;rt<et.length;rt+=1)nt[rt]=Q(Z(t,et,rt));return{c:function(){e=h("div"),n=h("div"),r=h("div"),G&&G.c(),a=d(),q&&q.c(),s=d(),o=h("div"),i=h("div"),c=v(B),l=d(),u=v(F),f=d(),m=h("div"),D=v(M),R=d(),k=h("div"),x=v(Y),C=d();for(var t=0;t<W.length;t+=1)W[t].c();H=d(),V=h("div");for(var g=0;g<nt.length;g+=1)nt[g].c();j=d(),this.h()},l:function(t){e=g(t,"DIV",{id:!0,class:!0,live:!0,physical:!0});var h=p(e);n=g(h,"DIV",{class:!0});var v=p(n);r=g(v,"DIV",{class:!0});var d=p(r);G&&G.l(d),a=b(d),q&&q.l(d),d.forEach(w),s=b(v),o=g(v,"DIV",{class:!0});var E=p(o);i=g(E,"DIV",{class:!0});var A=p(i);c=y(A,B),l=b(A),u=y(A,F),A.forEach(w),f=b(E),m=g(E,"DIV",{class:!0});var I=p(m);D=y(I,M),I.forEach(w),R=b(E),k=g(E,"DIV",{class:!0});var S=p(k);x=y(S,Y),S.forEach(w),C=b(E);for(var N=0;N<W.length;N+=1)W[N].l(E);E.forEach(w),H=b(v),V=g(v,"DIV",{class:!0});for(var $=p(V),T=0;T<nt.length;T+=1)nt[T].l($);$.forEach(w),v.forEach(w),j=b(h),h.forEach(w),this.h()},h:function(){E(r,"class","column is-1 location-data svelte-4rct3y"),E(i,"class","event-time col-3 svelte-4rct3y"),E(m,"class","event-title svelte-4rct3y"),E(k,"class","event-description svelte-4rct3y"),E(o,"class","column is-9"),E(V,"class","column text-align-right svelte-4rct3y"),E(n,"class","columns"),E(e,"id",O=t[14].id),E(e,"class",J=" event "+t[2](t[14])+" svelte-4rct3y"),E(e,"live",L=t[14].livestream),E(e,"physical",P=t[14].physical)},m:function(t,h){A(t,e,h),I(e,n),I(n,r),G&&G.m(r,null),I(r,a),q&&q.m(r,null),I(n,s),I(n,o),I(o,i),I(i,c),I(i,l),I(i,u),I(o,f),I(o,m),I(m,D),I(o,R),I(o,k),I(k,x),I(o,C);for(var v=0;v<W.length;v+=1)W[v].m(o,null);I(n,H),I(n,V);for(var d=0;d<nt.length;d+=1)nt[d].m(V,null);I(e,j)},p:function(t,n){if(t[14].livestream?G||((G=X()).c(),G.m(r,a)):G&&(G.d(1),G=null),t[14].physical?q||((q=z()).c(),q.m(r,null)):q&&(q.d(1),q=null),1&n&&B!==(B=T(t[14].startsAt)+"")&&S(c,B),1&n&&F!==(F=$(t[14].startsAt)+"")&&S(u,F),1&n&&M!==(M=t[14].title+"")&&S(D,M),1&n&&Y!==(Y=t[14].desc+"")&&S(x,Y),1&n){var s;for(U=t[14].artists,s=0;s<U.length;s+=1){var i=_(t,U,s);W[s]?W[s].p(i,n):(W[s]=K(i),W[s].c(),W[s].m(o,null))}for(;s<W.length;s+=1)W[s].d(1);W.length=U.length}if(1&n){var l;for(et=t[14].artists,l=0;l<et.length;l+=1){var f=Z(t,et,l);nt[l]?nt[l].p(f,n):(nt[l]=Q(f),nt[l].c(),nt[l].m(V,null))}for(;l<nt.length;l+=1)nt[l].d(1);nt.length=et.length}1&n&&O!==(O=t[14].id)&&E(e,"id",O),1&n&&J!==(J=" event "+t[2](t[14])+" svelte-4rct3y")&&E(e,"class",J),1&n&&L!==(L=t[14].livestream)&&E(e,"live",L),1&n&&P!==(P=t[14].physical)&&E(e,"physical",P)},d:function(t){t&&w(e),G&&G.d(),q&&q.d(),N(W,t),N(nt,t)}}}function tt(t){for(var e,n,r,a,s,o=H(t[1][0].startsAt)+"",i=t[1],c=[],l=0;l<i.length;l+=1)c[l]=W(q(t,i,l));return{c:function(){e=h("h2"),n=v(o),a=d();for(var t=0;t<c.length;t+=1)c[t].c();s=m(),this.h()},l:function(t){e=g(t,"H2",{id:!0,class:!0});var r=p(e);n=y(r,o),r.forEach(w),a=b(t);for(var i=0;i<c.length;i+=1)c[i].l(t);s=m(),this.h()},h:function(){E(e,"id",r=$(t[1][0].startsAt).toLowerCase()),E(e,"class","svelte-4rct3y")},m:function(t,r){A(t,e,r),I(e,n),A(t,a,r);for(var o=0;o<c.length;o+=1)c[o].m(t,r);A(t,s,r)},p:function(t,a){if(1&a&&o!==(o=H(t[1][0].startsAt)+"")&&S(n,o),1&a&&r!==(r=$(t[1][0].startsAt).toLowerCase())&&E(e,"id",r),5&a){var l;for(i=t[1],l=0;l<i.length;l+=1){var u=q(t,i,l);c[l]?c[l].p(u,a):(c[l]=W(u),c[l].c(),c[l].m(s.parentNode,s))}for(;l<c.length;l+=1)c[l].d(1);c.length=i.length}},d:function(t){t&&w(e),t&&w(a),N(c,t),t&&w(s)}}}function et(e){for(var n,r,a,s,o,i,c,l,u,f,m,S,D,x,C,$,H,T,V,O,J,L,P,B,F,M,Y=e[0],Z=[],_=0;_<Y.length;_+=1)Z[_]=tt(U(e,Y,_));return{c:function(){n=d(),r=h("section"),a=h("div"),s=h("div"),o=h("h2"),i=v("Events"),c=d(),l=h("p"),u=v("The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artists’ locations. You will be able to\n        catch the online stream "),f=h("a"),m=v("here on our website"),S=v(" during the\n        show."),D=d(),x=h("p"),C=v("Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=h("a"),H=v("safety guidelines and register here."),T=d(),V=h("h2"),O=v("Schedule"),J=d(),L=h("div"),P=d(),B=h("a"),F=v("Free online tickets"),M=d();for(var t=0;t<Z.length;t+=1)Z[t].c();this.h()},l:function(t){R('[data-svelte="svelte-1llonc1"]',G.head).forEach(w),n=b(t),r=g(t,"SECTION",{class:!0});var e=p(r);a=g(e,"DIV",{class:!0});var h=p(a);s=g(h,"DIV",{class:!0});var v=p(s);o=g(v,"H2",{class:!0});var d=p(o);i=y(d,"Events"),d.forEach(w),c=b(v),l=g(v,"P",{});var E=p(l);u=y(E,"The online component of Chimera Garden features a mixture of live\n        performance, discussion and demonstrations, streamed directly from St\n        James Hatcham Church and remote artists’ locations. You will be able to\n        catch the online stream "),f=g(E,"A",{href:!0});var A=p(f);m=y(A,"here on our website"),A.forEach(w),S=y(E," during the\n        show."),E.forEach(w),D=b(v),x=g(v,"P",{});var I=p(x);C=y(I,"Below you can find the line up of events, some that will be happening\n        physically in St James Hatcham Church and those that will be streaming\n        online. Below you can register for free tickets for the online events.\n        If you would like to visit us at St James Hatcham Church please read our\n        "),$=g(I,"A",{href:!0});var N=p($);H=y(N,"safety guidelines and register here."),N.forEach(w),I.forEach(w),T=b(v),V=g(v,"H2",{class:!0});var k=p(V);O=y(k,"Schedule"),k.forEach(w),J=b(v),L=g(v,"DIV",{});var j=p(L);P=b(j),B=g(j,"A",{class:!0,href:!0,target:!0});var Y=p(B);F=y(Y,"Free online tickets"),Y.forEach(w),j.forEach(w),M=b(v);for(var _=0;_<Z.length;_+=1)Z[_].l(v);v.forEach(w),h.forEach(w),e.forEach(w),this.h()},h:function(){G.title="Schedule - Final Show - 2020",E(o,"class","svelte-4rct3y"),E(f,"href","/live"),E($,"href","/getting-there"),E(V,"class","svelte-4rct3y"),E(B,"class","rounded-link bd-col-2 col-2"),E(B,"href",j),E(B,"target","_blank"),E(s,"class","content"),E(a,"class","container page-max-width"),E(r,"class","section bg-col-7")},m:function(t,e){A(t,n,e),A(t,r,e),I(r,a),I(a,s),I(s,o),I(o,i),I(s,c),I(s,l),I(l,u),I(l,f),I(f,m),I(l,S),I(s,D),I(s,x),I(x,C),I(x,$),I($,H),I(s,T),I(s,V),I(V,O),I(s,J),I(s,L),I(L,P),I(L,B),I(B,F),I(s,M);for(var h=0;h<Z.length;h+=1)Z[h].m(s,null)},p:function(e,n){var r=t(n,1)[0];if(5&r){var a;for(Y=e[0],a=0;a<Y.length;a+=1){var o=U(e,Y,a);Z[a]?Z[a].p(o,r):(Z[a]=tt(o),Z[a].c(),Z[a].m(s,null))}for(;a<Z.length;a+=1)Z[a].d(1);Z.length=Y.length}},i:k,o:k,d:function(t){t&&w(n),t&&w(r),N(Z,t)}}}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=n(r.mark((function t(e){var n,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,this.fetch("schedule.tsv").then((function(t){return t.text()}));case 3:return n=t.sent,t.next=6,this.fetch("artists.tsv").then((function(t){return t.text()}));case 6:return a=t.sent,t.abrupt("return",{scheduleRows:n,artistsRows:a});case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function at(e,n,r){var a,s,o,i,c,l=n.scheduleRows,u=n.artistsRows,f=new Map;return e.$$set=function(t){"scheduleRows"in t&&r(3,l=t.scheduleRows),"artistsRows"in t&&r(4,u=t.artistsRows)},e.$$.update=function(){56&e.$$.dirty&&(r(5,a=C(u)),a.forEach((function(t){f.set(t.username,t),t.slug=V(t.name)})),r(1,s=C(l,O).map((function(t){return t.artists=[],t.username&&t.username.trim()&&t.username.split(/,\s*/).forEach((function(e){var n=f.get(e);n?t.artists.push(n):console.log("Couldn't find \"".concat(e,'"'))})),t.startsAt=new Date(t.startTime),t})).filter((function(t){return t.startTime})))),2&e.$$.dirty&&r(6,o=s.filter((function(t){return!0}))),64&e.$$.dirty&&r(7,i=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return F(t,L,L,n)}(o,(function(t){return t.startTime.toISOString().slice(0,10)}))),128&e.$$.dirty&&r(0,c=Array.from(i.entries()).sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t[0],e[0])})).map((function(e){var n=t(e,2),r=n[0],a=n[1];return a.sort((function(t,e){return t.startsAt-e.startsAt})),[r,a]})))},[c,s,function(t){return function(t){return t.endsAt<M}(t)?"bd-col-7":function(t){return t.startsAt>=M&&t.endsAt<M}(t.startsAt)?"bd-col-1":void 0},l,u]}var st=function(t){a(n,f);var e=Y(n);function n(t){var r;return i(this,n),r=e.call(this),c(u(r),t,at,et,l,{scheduleRows:3,artistsRows:4}),r}return n}();export default st;export{nt as preload};
